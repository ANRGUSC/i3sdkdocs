

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="python" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="python" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Seller&#39;s Guide &mdash; i3sdk v1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Instructions for Sellers" href="sellers.html" />
    <link rel="prev" title="Instructions for Buyers" href="buyers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> i3sdk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html"><strong>I3 User Documentation</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="req.html">Requirements and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="i3market.html">I3 Marketplace</a></li>
<li class="toctree-l1"><a class="reference internal" href="account.html">Buyer's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="buyerguide.html">Buyer's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="buyers.html">Instructions for Buyers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Seller's Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hub">Hub</a></li>
<li class="toctree-l2"><a class="reference internal" href="#invalid-form">Invalid Form</a></li>
<li class="toctree-l2"><a class="reference internal" href="#naming">Naming</a></li>
<li class="toctree-l2"><a class="reference internal" href="#product-create">Product Create</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sensor-type">Sensor Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="#restricted-product">Restricted Product</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deleting-a-device-or-product">Deleting a Device or Product</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device-registration">Device Registration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sellers.html">Instructions for Sellers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">i3sdk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Seller's Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/sellerguide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="seller-s-guide">
<h1>Seller's Guide<a class="headerlink" href="#seller-s-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="hub">
<h2>Hub<a class="headerlink" href="#hub" title="Permalink to this headline">¶</a></h2>
<p>Products and devices should be registered under a certain hub, so the first thing you should do is to create a hub. Navigate to the hub page on the upper panel, you’ll see a list of your current hubs. Click “create hub” to create a hub. The private/public is a hub attribute, if you want others to be able to view the details of your hub (devices and topics under it), choose public. Otherwise choose private. By default, in the same hub, all devices have permission to publish to all topics. No publish permissions across hubs. In the future, you’ll be able to assign fine-grained publish permissions for each device (maybe to topics outside its hub), but of course, still restricted to your own products.</p>
<img alt="_images/Create_hub.png" src="_images/Create_hub.png" />
<p>The detail view of a hub is accessed by /hubs/{HUB_PRIMARY_KEY}, but for hub creators, buttons will be provided for them to see their hub details (see blue hub name, which is a link). When you try accessing the detailed view of a hub (by primary key), your permission will be checked. If you created this hub, you’ll see a page like this (left private, right public).</p>
<p>You can use the buttons to create or delete devices, and create or delete or edit products.</p>
<p>When you’re not the hub creator, if you try to access a private hub detail view, you see this</p>
<p>If you try to access the detail view of a public hub, you see this</p>
<p>Almost the same as the view page of that of a hub creator, but there’s no buttons provided for you because you’re viewing someone else’s hub, so you can’t do things like delete etc. Of course, buttons are just a visible access to URLS, so what if someone tries to delete a device or product that doesn’t belong to him by entering URLs?</p>
<p>He’ll see this.</p>
<p>Only creator gets to make changes to hubs, products and devices. NOTE: as of today, the product edit view doesn’t have permission control yet, so anybody can edit any product by using the edit URL.</p>
</div>
<div class="section" id="invalid-form">
<h2>Invalid Form<a class="headerlink" href="#invalid-form" title="Permalink to this headline">¶</a></h2>
<p>If there’s anything invalid in your create form, you’ll be redirected to the same create page without further notice. Please read the instructions carefully, such as “no duplicate product names” and “name must be at least 4 digits”.</p>
</div>
<div class="section" id="naming">
<h2>Naming<a class="headerlink" href="#naming" title="Permalink to this headline">¶</a></h2>
<p>When registering, just provide an alpha-numeric name for your hub (also a requirement for products and devices), and the final hub name will be automatically tagged as {USER_NAME}/{HUB_NAME}. NOTE, no duplicate hub names for a single user is allowed. If you registered a hub1, and did it again, you will be automatically redirected to the hub_create view page without extra prompt, and no operation will be performed on the system (as is mentioned above).</p>
</div>
<div class="section" id="product-create">
<h2>Product Create<a class="headerlink" href="#product-create" title="Permalink to this headline">¶</a></h2>
<p>Products have to be created inside a hub, and a create button is provided inside hub detail view, and also in the dashboard. They both point to the same URL /products/create.</p>
<p>When creating a product, no duplicate product names inside a hub will be allowed, and the hub name has to be an existing one (eg, for usr1/hub1, don’t write usr1/hub1, write only hub1. This is to prevent usr2 from registering a hub that starts with usr1/. Same for devices and products). If these conditions are not met, you will be redirected to the product create page without further prompt. When creating a product, the final product name is automatically tagged as {USER_NAME}/{HUB_NAME}/{PRODUCT_NAME}. This is to make sure that all product names are unique and structured. Detail_view of all products are accessible to all users (login-required), they can be accessed from either marketplace or product link, or  /products/{PRIMARY_KEY} (such as /products/1/) or /products/ {PRODUCT_SLUG} (such as /products/usr11hub1topic1/). Also, you can provide an optional location for your product so that it’s easier for the buyers to check it out.</p>
<img alt="_images/Create_product.png" src="_images/Create_product.png" />
</div>
<div class="section" id="sensor-type">
<h2>Sensor Type<a class="headerlink" href="#sensor-type" title="Permalink to this headline">¶</a></h2>
<p>Sensor’ means buyer only gets to subscribe to the topic, ‘actuator/both’ means buyer can also publish to this topic. Depends on whether you want the buyer to have publishing permission to your topic.</p>
</div>
<div class="section" id="restricted-product">
<h2>Restricted Product<a class="headerlink" href="#restricted-product" title="Permalink to this headline">¶</a></h2>
<p>If this box is checked, anyone who bought this product will prompt you a notification and a request, and you can choose to approve or decline. Buyer will get the feedback as notification. Approve/decline is using ajax, and when approved, buyer’s name will be put into acls table for authorization.</p>
<p>Buyer of a restricted product sees this</p>
</div>
<div class="section" id="deleting-a-device-or-product">
<h2>Deleting a Device or Product<a class="headerlink" href="#deleting-a-device-or-product" title="Permalink to this headline">¶</a></h2>
<p>When seller deletes a device, only himself is notified; but when he deletes a product (which is NOT supposed to be the usual circumstance), all buyers of this product are notified. Of course, all buyers lose access to this topic, but their personal buying credential remain unchanged. As I’ve mentioned before, it’s specific to buyers, not products.</p>
</div>
<div class="section" id="device-registration">
<h2>Device Registration<a class="headerlink" href="#device-registration" title="Permalink to this headline">¶</a></h2>
<p>Devices are registered under hubs, and also require valid input when creating. Invalid input will redirect you to the device create page without further prompt. Device names are auto tagged as {USER_NAME}${HUB_NAME}${DEVICE_NAME}. ‘$’ is used as a separator, instead if ‘/’, because ‘/’ is considered dangerous username in mqtt authentication check, and ‘/’ is necessary for mqtt topic authorization wildcard matching.</p>
<img alt="_images/Create_device.png" src="_images/Create_device.png" />
<p>Two methods to register devices: api key and asymmetric key pairs. For the former, enter a password for your device, and it will be np-hashed in database. For the latter, generate a RS key pair using openssl, open the public key file, and get rid of all characters that are not the key body (including ‘n’s and “---BEGIN PUBLIC KEY---” and “---END PUBLIC KEY---”), and copy it to i3. Sellers have no credentials for themselves (unless they buy products and act as buyers), but they create credentials for each of their registered devices (which is the password or public key he enters).</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sellers.html" class="btn btn-neutral float-right" title="Instructions for Sellers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="buyers.html" class="btn btn-neutral float-left" title="Instructions for Buyers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, USC CCI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>