

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="python" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="python" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Buyer&#39;s Guide &mdash; i3sdk v1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Sending and Receiving Data Using MQTT" href="mqtt.html" />
    <link rel="prev" title="Seller&#39;s Guide" href="sellerguide.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> i3sdk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Overview of I3 Data Marketplace</a></li>
<li class="toctree-l1"><a class="reference internal" href="req.html">Requirements and Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="i3market.html">I3 Marketplace</a></li>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sellerguide.html">Seller's Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Buyer's Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#signup">Signup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#log-in">Log in</a></li>
<li class="toctree-l2"><a class="reference internal" href="#products">Products</a></li>
<li class="toctree-l2"><a class="reference internal" href="#product-detail">Product Detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subscribing-credential-and-restricted-products">Subscribing Credential and Restricted Products</a></li>
<li class="toctree-l2"><a class="reference internal" href="#map-view">Map view</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rest-api">REST API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#allowed-query-params">Allowed Query Params:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rating">Rating</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mqtt.html">Sending and Receiving Data Using MQTT</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">i3sdk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Buyer's Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/buyerguide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="buyer-s-guide">
<h1>Buyer's Guide<a class="headerlink" href="#buyer-s-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="signup">
<h2>Signup<a class="headerlink" href="#signup" title="Permalink to this headline">¶</a></h2>
<p>All URLs of this platform require login, if you’re not logged in, you’ll be redirected to the login page. Sign up first before you log in. As indicted below, for now we haven’t enabled https, so please don’t use a password that’s the same as your other passwords.</p>
<img alt="_images/Login.png" src="_images/Login.png" />
<p>The new users have to create an account by clicking &quot;Don't have an account? Sign Up&quot;. A new user has to enter an username, email address, and password to set up an account.</p>
<img alt="_images/Signup.png" src="_images/Signup.png" />
</div>
<div class="section" id="log-in">
<h2>Log in<a class="headerlink" href="#log-in" title="Permalink to this headline">¶</a></h2>
<p>After logging in, you’ll see a dashboard page, which consists of three parts -- purchased products, your products and suggested products. As is suggested by the hints, the “purchased products” are the products that you (as a buyer) bought, the “my products” are products that you (as a seller) created, and the “suggested products” are the products recommended for you according to your preferences (as of today, we don’t have it yet, and it just shows all products on the marketplace, except yours).</p>
<p>Apart from the above, the “add product” button on the up-right corner provides you with a quick way to create a product, but note that all products have to be created under existing hubs. So if you don’t have a hub yet, please register a hub first.</p>
<img alt="_images/Dashboard.png" src="_images/Dashboard.png" />
</div>
<div class="section" id="products">
<h2>Products<a class="headerlink" href="#products" title="Permalink to this headline">¶</a></h2>
<p>The second field (up on the panel, right next to “I3 marketplace”) is called “products”. This page shows all the products on the marketplace, except the ones that you created. You can explore the market and buy products from here.</p>
<img alt="_images/Products.png" src="_images/Products.png" />
</div>
<div class="section" id="product-detail">
<h2>Product Detail<a class="headerlink" href="#product-detail" title="Permalink to this headline">¶</a></h2>
<p>If you want to view the details of a product, just click the blue link. On this page you’ll see the full name, product creator and other information. Products are restricted or unrestricted (as shown in above figures). For restricted products, you have to require access to the product. Only after the product creator approves your purchase will you be able to subscribe to it. Of course he can deny it. You’ll get a notification when the seller makes a decision. For unrestricted products, you can just add to cart and check out. Another attribute of products is “sensor type”. Three choices are “sensor”, “actuator” and “both”. As a buyer, if you buy a sensor topic, you get a subscribe permission; if you buy a non-sensor topic, you get a publish-subscribe permission.</p>
</div>
<div class="section" id="subscribing-credential-and-restricted-products">
<h2>Subscribing Credential and Restricted Products<a class="headerlink" href="#subscribing-credential-and-restricted-products" title="Permalink to this headline">¶</a></h2>
<p>You’ll get your (personal, not specific to any product) 12-digit subscribing credential once you buy your first product. You will use it for ALL subscription requests (of course you still have to buy a product before you can subscribe to it). Below is what happens when you buy a restricted product (and if it’s the very first product you bought on the marketplace).</p>
<p>Now let’s log in as Matt and approve the purchase.</p>
</div>
<div class="section" id="map-view">
<h2>Map view<a class="headerlink" href="#map-view" title="Permalink to this headline">¶</a></h2>
<p>You can view products in both list and map (google map API key).</p>
<p>On any of the marks you can check out the details of a product.</p>
</div>
<div class="section" id="rest-api">
<h2>REST API<a class="headerlink" href="#rest-api" title="Permalink to this headline">¶</a></h2>
<p>All API endpoints require token authentication (auto generate when you click API key on up-right drop-down panel). Currently we only allow get query for products.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl -X GET -H <span class="s1">&#39;Authorization: Token {YOUR_API_KEY}&#39;</span> <span class="s1">&#39;http://{HOST_IP}:{PORT}/api product/?{QUERY_NAME}={VALUE}&amp;{QUERY_NAME}={VALUE}&amp;...&#39;</span>
</pre></div>
</div>
<p>The above query parameters are using AND logic.</p>
<div class="section" id="allowed-query-params">
<h3>Allowed Query Params:<a class="headerlink" href="#allowed-query-params" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>pk : return product with pk</p></li>
<li><p>name : return product with name</p></li>
</ul>
<ol class="arabic simple">
<li><p>seller : get a list of products this guy sells</p></li>
<li><p>sensor_type : sensor, actuator or both</p></li>
<li><p>restricted_active  : 0 for unrestricted products, 1 for restricted</p></li>
<li><p>hub : filter by hub name</p></li>
<li><p>description_contains : return products whose description contain your input query (such as air quality). NOTE: use %20 if you want to input space, eg air%20quality</p></li>
</ol>
<ol class="arabic simple">
<li><p>search : return any product whose SELLER or HUB or NAME or DESCRIPTION contain your input search query</p></li>
</ol>
</div>
</div>
<div class="section" id="rating">
<h2>Rating<a class="headerlink" href="#rating" title="Permalink to this headline">¶</a></h2>
<p>In the product detail page there’s a rating function as shown above.
GET operation only requires login, while POST operation comes with mutiple permission check:
* if request user is not logged in, return fail
* if request user is creator of request product, return fail (You can't rate your own product)
* if request user already rated the product, return fail (even if he bought it more than once)
* everybody (except the seller) can rate the product (once and for all, only ONCE)
* product rating have two values: Overall Rating (average by all raters) and Verified Rating (average by buyers). While now at my instance, the overall rating is displayed, we can switch to the mode that only display the average rating of those who actually bought the product. So even though everybody can rate, we can still keep track of the actual score (currently not fully supported though).</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mqtt.html" class="btn btn-neutral float-right" title="Sending and Receiving Data Using MQTT" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sellerguide.html" class="btn btn-neutral float-left" title="Seller&#39;s Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, USC CCI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>